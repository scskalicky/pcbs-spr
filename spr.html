<!DOCTYPE html>
<html>
  <head>
    <title>My experiment</title>
    <script src='pcbs.js'></script>
    <script src="https://unpkg.com/jspsych@7.3.3"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.1.2"></script>
    <script src="https://unpkg.com/@jspsych/plugin-fullscreen@1.2.0"></script>
    <script src="https://unpkg.com/@jspsych-contrib/plugin-self-paced-reading@2.0.0"></script>
    <script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.1.2"></script>
    <link href="https://unpkg.com/jspsych@7.3.3/css/jspsych.css" rel="stylesheet" type="text/css" />
  </head>
  <body></body>
  <script>
    const jsPsych = initJsPsych({
    on_finish: function() {
    jsPsych.data.displayData();
    }
});

const stories = pigs.concat(red)

const fullscreen = {
  type: jsPsychFullscreen,
  fullscreen_mode: true
}

const basic_instructions = {
  type: jsPsychHtmlButtonResponse,
  stimulus: 'Hey, use the SPACEBAR to advance the text.',
  choices: ['Ok!']


}

    const spr_trial = {
        timeline: [
            {
        type: jsPsychSelfPacedReading,
        sentence: jsPsych.timelineVariable('s'),
        mask_character: '_',
        mask_on_word: true,
        canvas_size: [800, 500],
        canvas_border: '1px solid black',
        font_size: '20px',
        y_align: 'bottom',
        line_height: 40,
        xy_position: [-375, -200],
        x_align: 'left',
        mask_type: 2 // cumulative
        }
    ], timeline_variables: stories
    }
timeline = []
timeline.push(fullscreen, basic_instructions, spr_trial)
    jsPsych.run(timeline);
  </script>
</html>